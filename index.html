<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta property="og:title" content="Test Your Love ‚ù§Ô∏è">
<meta property="og:description" content="Pick petals and see what fate says üå∏">
<meta property="og:type" content="website">

<title>Test Your Love ‚ù§Ô∏è</title>

<style>
body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle, #ffdde4, #f6a5b1);
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: Georgia, serif;
  overflow: hidden;
}

.screen {
  display: none;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.screen.active {
  display: flex;
}

button {
  padding: 14px 30px;
  border-radius: 30px;
  border: none;
  background: #8b0000;
  color: white;
  font-size: 18px;
}

/* üå∫ Flower */
.flower {
  position: relative;
  width: 320px;
  height: 320px;
}

/* üå∫ Rafflesia-style petals */
.petal {
  position: absolute;
  width: 120px;
  height: 160px;
  background:
    radial-gradient(circle at 30% 30%, #ffdede 6%, transparent 7%),
    radial-gradient(circle at 60% 50%, #ffdede 6%, transparent 7%),
    radial-gradient(circle at 40% 70%, #ffdede 6%, transparent 7%),
    linear-gradient(#8b0000, #5a0000);
  border-radius: 60% 60% 80% 80%;
  transform-origin: bottom center;
  cursor: pointer;
}

/* falling animation */
.petal.fall {
  animation: fall 1.6s forwards ease-in;
}

@keyframes fall {
  to {
    transform: translateY(500px) rotate(120deg);
    opacity: 0;
  }
}

/* flower center */
.center {
  position: absolute;
  width: 110px;
  height: 110px;
  background: radial-gradient(circle, #3b0000, #1a0000);
  border-radius: 50%;
  top: 105px;
  left: 105px;
}

/* center popup text */
.popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255,255,255,0.95);
  padding: 20px 30px;
  border-radius: 25px;
  font-size: 22px;
  display: none;
  z-index: 100;
}

/* hearts */
.heart {
  position: fixed;
  top: -20px;
  font-size: 24px;
  animation: heartFall 3s linear forwards;
}

@keyframes heartFall {
  to {
    transform: translateY(100vh);
    opacity: 0;
  }
}
</style>
</head>

<body>

<!-- INTRO -->
<div class="screen active" id="intro">
  <h1>‚ù§Ô∏è Test Your Love ‚ù§Ô∏è</h1>
  <p>Pick petals one by one</p>
  <button onclick="start()">Start</button>
</div>

<!-- GAME -->
<div class="screen" id="game">
  <div class="flower" id="flower"></div>
</div>

<div class="popup" id="popup"></div>

<script>
const messages = [
  "You love me",
  "You love me not",
  "You love me",
  "You love me not",
  "You love me",
  "You love me not",
  "You love me",
  "You love me not",
  "You love me",
  "You love me not",
  "You love me",
  "You love me"
];

let remaining = [];
const flower = document.getElementById("flower");
const popup = document.getElementById("popup");

function start() {
  document.getElementById("intro").classList.remove("active");
  document.getElementById("game").classList.add("active");
}

messages.forEach((msg, i) => {
  remaining.push(msg);

  const petal = document.createElement("div");
  petal.className = "petal";
  const angle = (360 / 12) * i;
  petal.style.transform = `rotate(${angle}deg) translateY(-120px)`;

  petal.onclick = () => {
    if (petal.classList.contains("fall")) return;

    // pick random message
    const index = Math.floor(Math.random() * remaining.length);
    const result = remaining.splice(index, 1)[0];

    popup.innerText = result;
    popup.style.display = "block";

    petal.classList.add("fall");

    for (let i = 0; i < 6; i++) {
      const h = document.createElement("div");
      h.className = "heart";
      h.innerText = "‚ù§Ô∏è";
      h.style.left = Math.random() * 100 + "vw";
      document.body.appendChild(h);
      setTimeout(() => h.remove(), 3000);
    }

    setTimeout(() => popup.style.display = "none", 1200);

    // LAST PETAL FALLS
    if (remaining.length === 0) {
      setTimeout(() => {
        showResult(result);
      }, 1600);
    }
  };

  flower.appendChild(petal);
});

flower.appendChild(Object.assign(document.createElement("div"), { className: "center" }));

function showResult(result) {
  document.body.innerHTML = `
    <div style="
      height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      font-size:36px;
      background:${result === "You love me" ? "#ffd1dc" : "#cfd8dc"};
      animation:pulse 1s infinite alternate;">
      ${result === "You love me" ? "ü§ó FREE HUG PASS ü§ó" : "üò¢üíî"}
    </div>
  `;
}
</script>

</body>
</html>
